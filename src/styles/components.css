@layer components {
  /* Main layout components */
  .app-container {
    @apply min-h-screen h-full flex flex-col bg-background text-foreground transition-colors duration-300;
  }

  .main-layout {
    @apply flex-1 h-[calc(100vh-4rem)] overflow-hidden;
  }

  .content-grid {
    @apply grid h-full w-full transition-all duration-300 ease-in-out gap-4;
  }

  /* Glass and card effects - now unified */
  .card-glass {
    @apply bg-card/70 backdrop-blur-md rounded-lg border-border/40 shadow-sm
    transition-all duration-300 hover:shadow-md hover:border-primary/20;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .glass-panel {
    background-color: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    @apply rounded-lg shadow-sm transition-all;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .glass-input {
    @apply bg-background/50 backdrop-blur-sm focus:border-primary/30
    focus:bg-background/60 focus:shadow-sm transition-all duration-200;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Section containers */
  .section-container {
    @apply h-full flex flex-col rounded-lg overflow-hidden;
  }

  .section-header {
    @apply flex items-center justify-between p-4;
    border-bottom: 1px solid hsl(var(--border) / 0.1) !important;
  }

  .section-content {
    @apply flex-1 overflow-y-auto p-4 space-y-4;
  }

  .section-footer {
    @apply p-4;
    border-top: 1px solid hsl(var(--border) / 0.1) !important;
  }

  .scrollable-content {
    @apply flex-1 overflow-y-auto px-4 py-2 space-y-3 scrollbar-thin;
  }

  /* Page layouts */
  .page-container {
    @apply container mx-auto px-4 py-6 max-w-6xl;
  }

  .page-header {
    @apply mb-6;
  }

  .page-title {
    @apply text-2xl md:text-3xl font-bold text-gradient-primary;
  }

  .page-description {
    @apply text-muted-foreground mt-1;
  }

  /* Card patterns - unified */
  .feature-card {
    @apply p-6 flex flex-col h-full bg-card/70 backdrop-blur-md rounded-lg transition-all duration-300 hover:shadow-md hover:-translate-y-1;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .feature-card-icon {
    @apply h-10 w-10 p-2 rounded-full bg-primary/10 text-primary mb-4;
  }

  .feature-card-title {
    @apply text-lg font-semibold mb-2;
  }

  .feature-card-description {
    @apply text-muted-foreground mb-4;
  }

  .data-card {
    @apply p-5 flex flex-col bg-card/70 backdrop-blur-md rounded-lg transition-all duration-300;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .data-card-header {
    @apply flex justify-between items-start mb-4;
  }

  .data-card-title {
    @apply text-base font-semibold;
  }

  .data-card-value {
    @apply text-2xl font-bold mt-2;
  }

  .data-card-meta {
    @apply text-sm text-muted-foreground mt-auto pt-3;
  }

  /* Bottom navigation with solid background */
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 p-2 z-50 md:hidden;
    background-color: hsl(var(--background)) !important;
    border-top: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1) !important;
  }

  .bottom-nav-item {
    @apply flex flex-col items-center p-2 rounded-md transition-colors;
    outline: none !important;
    box-shadow: none !important;
  }

  .bottom-nav-dropdown {
    @apply absolute rounded-md p-1 z-50;
    background-color: hsl(var(--background)) !important;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2) !important;
  }

  /* Task item styling - now unified with other components */
  .task-item {
    @apply p-3 relative hover:shadow-md hover:bg-card/80 
    hover:border-primary/20 transition-all duration-200 bg-card/70 backdrop-blur-md rounded-lg;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  .task-item-selected {
    @apply border-primary/50 bg-primary/5;
  }

  .task-item-completed {
    @apply opacity-70;
  }

  /* Note item styling - unified with task styling */
  .note-item {
    @apply p-3 relative hover:shadow-md hover:bg-card/80 
    hover:border-primary/20 transition-all duration-200 bg-card/70 backdrop-blur-md rounded-lg;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Screenshot styling - unified */
  .screenshot-card {
    @apply overflow-hidden bg-card/70 backdrop-blur-md rounded-lg;
    border: 1px solid hsl(var(--border) / 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Button styles */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors
    focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50
    disabled:pointer-events-none data-[state=open]:bg-secondary data-[state=open]:text-secondary-foreground;
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }

  .btn-outline {
    @apply bg-transparent border border-input hover:bg-accent hover:text-accent-foreground;
  }

  .btn-ghost {
    @apply bg-transparent hover:bg-accent hover:text-accent-foreground;
  }

  .btn-icon {
    @apply h-9 w-9 p-0;
  }

  .btn-sm {
    @apply h-8 rounded-md px-3 text-xs;
  }

  .btn-lg {
    @apply h-10 rounded-md px-8;
  }

  /* Input styles */
  .input {
    @apply flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm
    transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground
    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
    disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Textarea styles */
  .textarea {
    @apply flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm
    transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2
    focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Select styles */
  .select {
    @apply flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm
    transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2
    focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Card styles */
  .card {
    @apply rounded-md border bg-card text-card-foreground shadow-sm;
  }

  .card-header {
    @apply flex items-center justify-between space-y-0.5 p-4;
  }

  .card-title {
    @apply text-lg font-semibold tracking-tight;
  }

  .card-description {
    @apply text-sm text-muted-foreground;
  }

  .card-content {
    @apply p-4 pt-0;
  }

  .card-footer {
    @apply flex items-center p-4 pt-0;
  }

  /* Popover styles */
  .popover {
    @apply rounded-md border bg-popover text-popover-foreground shadow-md;
  }

  .popover-content {
    @apply p-4;
  }

  /* Dialog styles */
  .dialog {
    @apply rounded-md border bg-card text-card-foreground shadow-sm;
  }

  .dialog-header {
    @apply flex flex-col space-y-1.5 p-4;
  }

  .dialog-title {
    @apply text-lg font-semibold tracking-tight;
  }

  .dialog-description {
    @apply text-sm text-muted-foreground;
  }

  .dialog-content {
    @apply p-4 pt-0;
  }

  .dialog-footer {
    @apply flex items-center p-4 pt-0;
  }

  /* Alert styles */
  .alert {
    @apply relative w-full rounded-md border p-4 [&>[role=alert-dialog]]:space-y-0;
  }

  .alert-title {
    @apply text-sm font-semibold tracking-tight;
  }

  .alert-description {
    @apply text-sm text-muted-foreground;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold
    transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }

  /* Accordion styles */
  .accordion-header {
    @apply flex;
  }

  .accordion-trigger {
    @apply flex flex-1 items-center justify-between py-3 text-sm font-medium transition-all
    hover:underline [&[data-state=open]>svg]:rotate-180;
  }

  .accordion-content {
    @apply overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up
    data-[state=open]:animate-accordion-down;
  }

  /* Navigation menu styles */
  .navigation-menu-content {
    @apply absolute top-0 left-0 w-full sm:w-auto;
  }

  .navigation-menu-viewport {
    @apply relative h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden
    transition-[width,height] duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out
    data-[state=closed]:fade-out data-[state=open]:fade-in data-[state=closed]:zoom-out
    data-[state=open]:zoom-in;
  }

  /* Tooltip styles */
  .tooltip-content {
    @apply z-[100] overflow-hidden rounded-md border bg-popover text-popover-foreground
    shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0
    data-[state=closed]:zoom-out-95 p-4;
  }

  .tooltip-arrow {
    @apply fill-popover;
  }

  /* Hover card styles */
  .hover-card-content {
    @apply z-50 w-[280px] rounded-md border bg-popover text-popover-foreground shadow-md
    animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0
    data-[state=closed]:zoom-out-95 p-4;
  }

  /* Command styles */
  .command-input {
    @apply flex h-9 items-center rounded-md border border-input bg-background px-3 text-sm
    shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium
    placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2
    focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  .command-list {
    @apply max-h-[300px] overflow-y-auto overflow-x-hidden;
  }

  .command-empty {
    @apply py-6 text-center text-sm text-muted-foreground;
  }

  .command-group-heading {
    @apply px-2 py-1.5 text-sm font-semibold text-muted-foreground;
  }

  .command-item {
    @apply relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm
    outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none
    data-[disabled]:opacity-50;
  }

  .command-shortcut {
    @apply ml-auto text-xs tracking-kbd text-muted-foreground opacity-60;
  }

  /* Calendar styles */
  .calendar-wrap {
    @apply border rounded-md shadow-sm;
  }

  .calendar-head {
    @apply flex items-center justify-between rounded-t-md border-b p-4;
  }

  .calendar-month {
    @apply text-sm font-semibold;
  }

  .calendar-nav {
    @apply flex items-center gap-1;
  }

  .calendar-nav-btn {
    @apply h-7 w-7 bg-muted/50 rounded-md flex items-center justify-center;
  }

  .calendar-body {
    @apply p-4;
  }

  .calendar-grid {
    @apply grid grid-cols-7 gap-2;
  }

  .calendar-day {
    @apply flex h-8 w-8 items-center justify-center rounded-md text-sm transition-colors
    focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 data-[selected]:bg-primary
    data-[selected]:text-primary-foreground data-[today]:font-medium data-[today]:outline-none;
  }

  .calendar-week-header {
    @apply flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium;
  }

  /* Carousel styles */
  .carousel-viewport {
    @apply relative overflow-hidden w-full;
  }

  .carousel-container {
    @apply flex transition-transform duration-500 ease-in-out;
  }

  .carousel-item {
    @apply flex-shrink-0 w-full;
  }

  .carousel-indicators {
    @apply flex items-center justify-center gap-2 mt-4;
  }

  .carousel-indicator-btn {
    @apply w-3 h-3 rounded-full bg-muted/50 transition-colors hover:bg-muted data-[active]:bg-primary;
  }

  .carousel-controls {
    @apply flex items-center justify-between mt-4;
  }

  .carousel-control-btn {
    @apply h-9 w-9 bg-muted/50 rounded-md flex items-center justify-center;
  }

  /* Progress styles */
  .progress {
    @apply relative h-4 w-full overflow-hidden rounded-full bg-secondary;
  }

  .progress-bar {
    @apply absolute top-0 left-0 h-full bg-primary transition-all;
  }

  /* Separator styles */
  .separator {
    @apply my-4 h-[1px] w-full bg-border;
  }

  /* Aspect ratio styles */
  .aspect-ratio {
    @apply relative overflow-hidden;
  }

  .aspect-ratio-content {
    @apply absolute top-0 left-0 w-full h-full;
  }

  /* Skeleton styles */
  .skeleton {
    @apply animate-pulse rounded-md bg-muted;
  }
}
